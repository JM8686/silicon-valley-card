<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨ ë§Œë“¤ê¸° - Grand Title Generator</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="í‰ë²”í•œ ì§ì—…ì„ ì‹¤ë¦¬ì½˜ë°¸ë¦¬ CEOì²˜ëŸ¼ í¬ì¥í•´ì£¼ëŠ” AI ëª…í•¨ ìƒì„±ê¸°ì…ë‹ˆë‹¤.">
    <meta property="og:title" content="ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨ ë§Œë“¤ê¸°">
    <meta property="og:description" content="ë‹¹ì‹ ì˜ í‰ë²”í•œ ì¼ìƒì„ ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ìœ ë‹ˆì½˜ ê¸°ì—… CEOì²˜ëŸ¼ ë§Œë“¤ì–´ë“œë¦½ë‹ˆë‹¤.">
    <meta property="og:image" content="https://via.placeholder.com/1200x630.png?text=Silicon+Valley+Card">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        body { 
            font-family: 'Pretendard', sans-serif; 
            background-color: #111827; 
            color: white; 
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }
        .font-serif { font-family: 'Times New Roman', Times, serif; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-down { animation: fadeInDown 0.6s ease-out; }
        .animate-fade-in-up { animation: fadeInUp 0.5s ease-out; }
        
        /* VIP Scroll Specific Fixes */
        .vip-scroll-container {
            display: flex;
            gap: 1rem;
            overflow-x: hidden; /* ëª¨ë°”ì¼ì—ì„œ ìˆ˜ë™ ìŠ¤í¬ë¡¤ ê°„ì„­ ë°©ì§€ë¥¼ ìœ„í•´ hidden ì²˜ë¦¬ */
            white-space: nowrap;
            touch-action: none; /* JS ì œì–´ë¥¼ ìœ„í•´ í„°ì¹˜ ê¸°ë³¸ë™ì‘ ì°¨ë‹¨ */
            width: 100%;
        }
        
        .fade-mask {
            mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
        }
        .text-shadow { text-shadow: 2px 2px 0px rgba(0,0,0,0.3); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;
        
        // --- 0. ICON COMPONENTS ---
        const IconBriefcase = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} style={{display: 'inline-block', verticalAlign: 'middle', flexShrink: 0}}>
                <rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/>
            </svg>
        );
        const IconZap = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={`text-yellow-500 ${className || ''}`}>
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
            </svg>
        );
        const IconSparkles = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5H5"/><path d="M19 3v4"/><path d="M15 5h4"/></svg>
        );
        const IconUser = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>
            </svg>
        );
        const IconGlobe = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
            </svg>
        );
        const IconTrophy = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/>
            </svg>
        );
        const IconX = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M18 6 6 18"/><path d="m6 6 12 12"/>
            </svg>
        );
        const IconImage = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
            </svg>
        );
        const IconLink = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
            </svg>
        );
        const IconCopy = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
            </svg>
        );
        const IconRefresh = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/>
            </svg>
        );

        const firebaseConfig = {
            apiKey: "AIzaSyAq_82aL0otaPbubYB2Jo69MwVzJJuR4B8",
            authDomain: "silicon-card.firebaseapp.com",
            projectId: "silicon-card",
            storageBucket: "silicon-card.firebasestorage.app",
            messagingSenderId: "942702520870",
            appId: "1:942702520870:web:2abc7d4b35abbd6828d4e7"
        };
        const GEMINI_API_KEY = "AIzaSyCWNJTK7qMQ2BZ_8RtRFIb5rRWoUpO1tII";
        const MODEL_NAME = "gemini-2.5-flash"; 
        const APP_ID = 'silicon-card';

        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();

        const MOCK_DB = [
            {
              keywords: ['ë°±ìˆ˜', 'ë¬´ì§', 'ë…¸ëŠ”', 'ì·¨ì¤€', 'ë†€ê³ ', 'ì§‘'],
              title: "Chief Executive Home Architect",
              desc: "ì €ëŠ” ì£¼ê±° ê³µê°„ì˜ ìƒí™œ ì—”íŠ¸ë¡œí”¼ë¥¼ ì¡°ìœ¨í•˜ê³  ë°°ë‹¬ í”Œë«í¼ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ì˜ì–‘ ê³µê¸‰ë§ì„ êµ¬ì¶•í•˜ëŠ” í™ˆ ì¸í”„ë¼ ê°€ìš©ì„± ì´ê´„ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤."
            },
            {
              keywords: ['í¸ì˜ì ', 'ì•Œë°”', 'ìºì…”', 'ë§ˆíŠ¸'],
              title: "Global Inventory Liquidity Master",
              desc: "ì €ëŠ” ìœ í†µë§ì˜ ë¼ìŠ¤íŠ¸ ë§ˆì¼ ê±°ì ì—ì„œ ë°”ì½”ë“œ ìŠ¤ìºë‹ ì•Œê³ ë¦¬ì¦˜ì„ ì§€íœ˜í•˜ë©°, ì‹¤ì‹œê°„ ì¬ê³  íë¦„ì„ í•„í„°ë§í•˜ê³  ì¡°ì§ì˜ í˜„ê¸ˆ ìœ ë™ì„±ì„ ì¦‰ê°ì ìœ¼ë¡œ í™•ë³´í•˜ëŠ” ì „ëµì  ìì‚° ê´€ë¦¬ ì—­í• ì„ ë§¡ê³  ìˆìŠµë‹ˆë‹¤."
            }
        ];

        const MOCK_VIP_CARDS = [
            { id: 'm1', title: 'Chief Home Protector', desc: 'ì£¼ê±° ê³µê°„ì˜ ì—”íŠ¸ë¡œí”¼ë¥¼ ìµœì†Œí™”í•˜ê³  ë°°ë‹¬ ìŒì‹ì˜ ë¬¼ë¥˜ íš¨ìœ¨ì„ ìµœì í™”í•˜ëŠ” í™ˆ ì¸í”„ë¼ ì´ê´„ ì±…ì„ì.', originalInput: 'ë°±ìˆ˜' },
            { id: 'm2', title: 'Convenience Store Master', desc: 'ê¸€ë¡œë²Œ ìœ í†µë§ì˜ ìµœì „ì„ ì—ì„œ ì¬ê³  ìì‚°ì˜ ìœ ë™ì„±ì„ ê´€ë¦¬í•˜ê³  ë°”ì½”ë“œ ìŠ¤ìºë‹ í”„ë¡œì„¸ìŠ¤ë¥¼ ì§€íœ˜í•˜ëŠ” í˜„ì¥ ì†Œì¥.', originalInput: 'í¸ì˜ì  ì•Œë°”' },
            { id: 'm3', title: 'Dopamine Mining Engineer', desc: 'ìˆí¼ í”Œë«í¼ì´ë¼ëŠ” ë””ì§€í„¸ ê´‘ì‚°ì—ì„œ ê³ ìˆœë„ ë„íŒŒë¯¼ì„ ì±„êµ´í•˜ì—¬ ë‡Œë‚´ ë³´ìƒ íšŒë¡œë¥¼ ìê·¹í•˜ëŠ” ì‹ ê²½í™”í•™ ì—”ì§€ë‹ˆì–´.', originalInput: 'ìœ íŠœë¸Œ ì‹œì²­' },
            { id: 'm4', title: 'Oxygen Circulation Specialist', desc: 'ëŒ€ê¸° ì¤‘ ì‚°ì†Œë¥¼ í¬ì§‘í•˜ì—¬ í˜ˆë¥˜ì— ê³µê¸‰í•˜ê³  ì´ì‚°í™”íƒ„ì†Œ ë°°ì¶œì„ ìë™í™”í•˜ëŠ” ìƒëª… ìœ ì§€ ì‹œìŠ¤í…œ ê´€ë¦¬ì.', originalInput: 'ìˆ¨ì‰¬ê¸°' },
            { id: 'm5', title: 'Keyboard Rhythm Conductor', desc: 'ê¸°ê³„ì‹ ìŠ¤ìœ„ì¹˜ì˜ íƒ€ê±´ìŒì„ ì¡°ìœ¨í•˜ì—¬ ë””ì§€í„¸ êµí–¥ê³¡ì„ ì‘ê³¡í•˜ê³  íŒ€ì›ë“¤ì˜ ë©˜íƒˆì„ ì¼€ì–´í•˜ëŠ” E-ìŠ¤í¬ì¸  ë§ˆì—ìŠ¤íŠ¸ë¡œ.', originalInput: 'ê²Œì„' }
        ];

        const GrandTitleGenerator = () => {
            const [inputText, setInputText] = useState('');
            const [loading, setLoading] = useState(false);
            const [capturing, setCapturing] = useState(false);
            const [result, setResult] = useState(null);
            const [toast, setToast] = useState({ show: false, message: '' });
            const [user, setUser] = useState(null);
            const [recentCards, setRecentCards] = useState(MOCK_VIP_CARDS);
            const [viewingCard, setViewingCard] = useState(null);
            const [isPaused, setIsPaused] = useState(false);
            
            const topRef = useRef(null);
            const inputRef = useRef(null);
            const cardRef = useRef(null);
            const vipScrollRef = useRef(null);
            const animationRef = useRef(null);

            useEffect(() => {
                auth.signInAnonymously().catch(e => console.error("Auth Error:", e));
                const unsubscribe = auth.onAuthStateChanged((u) => setUser(u));
                return () => unsubscribe();
            }, []);

            useEffect(() => {
                let unsubscribe = () => {};
                try {
                    const queryRef = db.collection('artifacts').doc(APP_ID).collection('public').doc('data').collection('cards')
                        .orderBy('createdAt', 'desc')
                        .limit(20);
                        
                    unsubscribe = queryRef.onSnapshot((snapshot) => {
                        const fetched = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                        if (fetched.length > 0) {
                            const combined = fetched.length < 5 ? [...fetched, ...MOCK_VIP_CARDS] : fetched;
                            setRecentCards(combined);
                        }
                    }, (error) => console.warn("Firestore Error:", error));
                } catch (e) { console.error("Firestore Exception:", e); }
                return () => unsubscribe();
            }, []);

            const displayList = useMemo(() => {
                let cards = [...recentCards];
                while (cards.length < 10) cards.push(...recentCards);
                return cards;
            }, [recentCards]);

            // --- Robust Animation Loop (JS-controlled for interactivity) ---
            useEffect(() => {
                const scrollContainer = vipScrollRef.current;
                if (!scrollContainer || displayList.length === 0) return;

                let animationId;
                const animate = () => {
                    if (!isPaused && scrollContainer) {
                        const speed = 0.8; 
                        const halfWidth = scrollContainer.scrollWidth / 2;
                        
                        if (halfWidth > 0) {
                            if (scrollContainer.scrollLeft >= halfWidth) {
                               scrollContainer.scrollLeft = 0; 
                            } else {
                               scrollContainer.scrollLeft += speed;
                            }
                        }
                    }
                    animationId = requestAnimationFrame(animate);
                };

                // Ensure width is settled before starting
                const timer = setTimeout(() => {
                    animationId = requestAnimationFrame(animate);
                }, 800);

                return () => {
                    clearTimeout(timer);
                    if (animationId) cancelAnimationFrame(animationId);
                };
            }, [isPaused, displayList]);

            const saveCardToFirestore = async (cardData) => {
                if (!user) return;
                try {
                    await db.collection('artifacts').doc(APP_ID).collection('public').doc('data').collection('cards').add({
                        ...cardData,
                        userId: user.uid,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                } catch (e) { console.error("Save Error:", e); }
            };

            const callGemini = async (prompt) => {
                try {
                    const url = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${GEMINI_API_KEY}`;
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contents: [{ parts: [{ text: prompt }] }],
                            generationConfig: { responseMimeType: "application/json" }
                        }),
                    });
                    if (!response.ok) return null; 
                    const data = await response.json();
                    const rawText = data.candidates?.[0]?.content?.parts?.[0]?.text;
                    if (!rawText) return null;
                    const jsonStr = rawText.replace(/```json/g, "").replace(/```/g, "").trim();
                    return JSON.parse(jsonStr);
                } catch (e) { return null; }
            };

            const analyzeIdentity = async () => {
                if (!inputText.trim()) return;
                setLoading(true);
                setResult(null);

                const systemPrompt = `
                  You are a satirical AI. GOAL: Turn mundane jobs into grandiose, meme-heavy Silicon Valley executive titles and descriptions.
                  
                  INSTRUCTIONS:
                  1. Title (English): 3-6 words. Words: Chief, Ninja, Evangelist, Architect, Strategist, Guardian, Master.
                  2. Description (Korean): 
                     - Start with "ì €ëŠ”", end with "í•˜ê³  ìˆìŠµë‹ˆë‹¤" or "ìˆ˜í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤".
                     - Length: 2-3 sentences.
                     - Use extreme jargon (e.g., 'breathing' -> 'oxygen filtration process').
                     - Tone: Formal, ridiculous, and reflects internet ë°ˆ (meme).
                  
                  Return VALID JSON only: { "title": "...", "desc": "..." }
                  Input: "${inputText}"
                `;

                let aiResult = await callGemini(systemPrompt);
                if (!aiResult) {
                    const match = MOCK_DB.find(item => item.keywords.some(k => inputText.includes(k)));
                    aiResult = match ? { title: match.title, desc: match.desc } : {
                        title: "Chief Disruption Strategist",
                        desc: "ì €ëŠ” ë¹„ì •í˜• ë°ì´í„°ì˜ êµ¬ì¡°ì  ì—”íŠ¸ë¡œí”¼ë¥¼ ì¡°ìœ¨í•˜ê³  ê°€ìƒ ìƒíƒœê³„ ë‚´ì—ì„œì˜ ë¦¬ìŠ¤í¬ë¥¼ ì„ ì œì ìœ¼ë¡œ ë§¤í•‘í•˜ì—¬ ì¡°ì§ì˜ í•˜ì´í¼ ìŠ¤ì¼€ì¼ë§ì„ ê°€ì†í™”í•˜ëŠ” ì „ëµì  ê±°ë²„ë„ŒìŠ¤ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤."
                    };
                    showToast("AI ì—°ê²° ì§€ì—°ìœ¼ë¡œ ìƒ˜í”Œ ëª¨ë“œë¡œ ë™ì‘í•©ë‹ˆë‹¤.");
                }
                const finalResult = { ...aiResult, originalInput: inputText };
                setResult(finalResult);
                saveCardToFirestore(finalResult);
                setLoading(false);
            };

            const showToast = (msg) => {
                setToast({ show: true, message: msg });
                setTimeout(() => setToast({ show: false, message: '' }), 3000);
            };

            const handleCopyText = () => {
                if (!result) return;
                const text = `[${result.title}]\n\n"${result.desc}"\n\nğŸ”— ë‚˜ë„ ë§Œë“¤ê¸°: ${window.location.href}`;
                navigator.clipboard.writeText(text).then(() => showToast("í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“"));
            };

            const handleCopyLink = () => {
                navigator.clipboard.writeText(window.location.href).then(() => showToast("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ”—"));
            };

            const handleShareImage = async () => {
                if (!result || !cardRef.current) return;
                setCapturing(true);
                await new Promise(r => setTimeout(r, 200));
                try {
                    const canvas = await window.html2canvas(cardRef.current, {
                        backgroundColor: '#1a202c', scale: 2, useCORS: true,
                        onclone: (doc) => {
                            const d = doc.getElementById('card-description');
                            if (d) { d.style.wordBreak = 'break-word'; d.style.whiteSpace = 'pre-wrap'; }
                        }
                    });
                    canvas.toBlob(async (blob) => {
                        if (!blob) { setCapturing(false); return; }
                        const file = new File([blob], 'card.png', { type: 'image/png' });
                        const shareData = {
                            files: [file],
                            title: 'ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨',
                            text: `ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨ ë§Œë“¤ê¸° âœ¨\n[${result.title}]\nğŸ”— ë‚˜ë„ ë§Œë“¤ê¸°: ${window.location.href}`
                        };
                        if (navigator.share && navigator.canShare && navigator.canShare({ files: [file] })) {
                            try { await navigator.share(shareData); } 
                            catch (e) { if (e.name !== 'AbortError') downloadImage(canvas); }
                        } else { downloadImage(canvas); }
                        setCapturing(false);
                    });
                } catch (e) { setCapturing(false); showToast("ê³µìœ  ì¤‘ ì˜¤ë¥˜ ë°œìƒ"); }
            };

            const downloadImage = (canvas) => {
                const link = document.createElement('a');
                link.download = `card-${Date.now()}.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                showToast("ì´ë¯¸ì§€ë¥¼ ì €ì¥í–ˆìŠµë‹ˆë‹¤! ğŸ’¾");
            };

            const handleReset = () => {
                setResult(null); 
                setInputText('');
                window.scrollTo({ top: 0, behavior: 'smooth' });
                if (topRef.current) topRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });
                setTimeout(() => { if (inputRef.current) inputRef.current.focus(); }, 500);
            };

            return (
                <main ref={topRef} className="min-h-[100dvh] bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex flex-col items-center justify-start p-4 font-sans selection:bg-yellow-300 selection:text-black overflow-x-hidden">
                    <header className="text-center mt-8 mb-8 w-full max-w-2xl animate-fade-in-down">
                        <div className="inline-block bg-white border-4 border-black px-6 py-2 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] mb-4 transform -rotate-2">
                            <div className="flex items-center gap-2">
                                <IconBriefcase className="w-7 h-7 text-indigo-600" />
                                <h1 className="text-2xl md:text-3xl font-black text-black tracking-tighter uppercase leading-none">ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨ ë§Œë“¤ê¸°</h1>
                            </div>
                        </div>
                        <div className="bg-yellow-300 border-4 border-black p-4 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] rounded-lg">
                            <p className="text-black font-bold text-sm md:text-base leading-relaxed break-keep">ì§ì—…, ì·¨ë¯¸, í™œë™ ë“± ë‹¹ì‹ ì˜ ëª¨ë“  ëª¨ìŠµì„ <br className="hidden md:block"/><span className="text-indigo-600 font-black">ì‹¤ë¦¬ì½˜ë°¸ë¦¬ì˜ ì„±ê³µí•œ ë¶€ì</span> ëª…í•¨ìœ¼ë¡œ ë°”ê¿” ë“œë¦½ë‹ˆë‹¤. âœ¨</p>
                        </div>
                    </header>

                    <section className="w-full max-w-lg bg-white border-4 border-black shadow-[12px_12px_0px_0px_rgba(0,0,0,0.2)] rounded-xl overflow-hidden transform transition-all duration-300 mb-12 relative z-10">
                        {!result && !loading && (
                            <div className="p-8 space-y-6">
                                <div className="space-y-3">
                                    <label htmlFor="job-input" className="flex items-center gap-2 text-black font-extrabold text-lg uppercase tracking-tight">
                                        <IconZap className="w-5 h-5" /> Current Status (ì…ë ¥)
                                    </label>
                                    <input ref={inputRef} id="job-input" type="text" value={inputText} onChange={(e) => setInputText(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && analyzeIdentity()} placeholder="ì˜ˆ: í¸ì˜ì  ì•Œë°”, ëˆ„ì›Œìˆê¸°, í—¬ìŠ¤ì¥..." className="w-full bg-indigo-50 text-black border-4 border-black focus:border-indigo-500 rounded-lg px-4 py-5 outline-none transition-all placeholder-gray-500 font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] focus:shadow-[4px_4px_0px_0px_rgba(79,70,229,1)] text-base md:text-lg" />
                                </div>
                                <button onClick={analyzeIdentity} disabled={!inputText.trim()} className={`w-full py-4 rounded-lg font-black text-xl border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] transform transition-all flex items-center justify-center gap-2 active:translate-y-1 active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] min-h-[60px] ${inputText.trim() ? 'bg-gradient-to-r from-yellow-400 to-orange-400 text-black hover:brightness-110 cursor-pointer' : 'bg-gray-200 text-gray-500 cursor-not-allowed border-gray-400 shadow-none'}`}>
                                    <IconSparkles className="w-6 h-6" /> ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨ ë§Œë“¤ê¸°
                                </button>
                            </div>
                        )}

                        {loading && (
                            <div className="p-12 flex flex-col items-center justify-center space-y-6 text-center bg-indigo-50 min-h-[300px]">
                                <div className="w-20 h-20 border-8 border-black border-t-yellow-400 rounded-full animate-spin"></div>
                                <div><p className="text-xl font-black text-black animate-pulse">ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ì—°ë´‰ í˜‘ìƒ ì¤‘... ğŸ’°</p><p className="text-sm font-bold text-indigo-600 mt-2">Calculating Valuation...</p></div>
                            </div>
                        )}

                        {result && !loading && (
                            <div className="animate-fade-in-up">
                                <article ref={cardRef} id="card-container" className="bg-[#1a202c] p-1 relative border-b-8 border-yellow-400">
                                    <div className="absolute inset-0 opacity-10" style={{backgroundImage: 'radial-gradient(#ffffff 1px, transparent 1px)', backgroundSize: '20px 20px'}}></div>
                                    <div className="relative z-10 p-6 md:p-8 flex flex-col h-auto min-h-[320px] justify-between">
                                        <div className="flex justify-between items-start mb-6">
                                            <div className="w-12 h-12 bg-yellow-400 border-2 border-white rounded-full flex items-center justify-center shadow-lg"><IconUser className="text-black w-6 h-6" /></div>
                                            <div className="flex flex-col items-end pt-1"><div className="text-yellow-400 text-xl tracking-widest font-bold drop-shadow-sm leading-none">â˜…â˜…â˜…â˜…â˜…</div></div>
                                        </div>
                                        <div className="mb-6 flex-grow">
                                            <h2 className="text-2xl md:text-3xl font-serif font-bold text-white leading-tight mb-3 drop-shadow-md break-words">{result.title}</h2>
                                            <div className="h-1 w-16 bg-yellow-400 mb-4"></div>
                                            <p id="card-description" className="text-gray-300 text-[16px] md:text-lg font-medium italic leading-snug md:leading-relaxed pr-2" style={{ wordBreak: 'keep-all', overflowWrap: 'break-word', whiteSpace: 'pre-wrap' }}>"{result.desc}"</p>
                                        </div>
                                        <div className="border-t border-gray-700 pt-3 mt-4">
                                            <div className="flex justify-between items-center mb-1"><p className="text-[10px] font-mono text-gray-500"><span className="text-indigo-400">ORIGIN:</span> {result.originalInput}</p></div>
                                            <div className="flex justify-between items-end text-[10px] md:text-xs text-gray-400 font-mono"><div><p className="text-yellow-400 font-bold">SILICON VALLEY HQ</p><p>1 Infinite Loop, Metaverse</p></div></div>
                                        </div>
                                    </div>
                                </article>

                                <div className="bg-yellow-50 p-4 border-b-4 border-black grid grid-cols-2 gap-3">
                                    <button onClick={handleShareImage} disabled={capturing} className="flex-1 py-4 bg-indigo-600 text-white rounded-lg font-black text-sm md:text-lg border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-[-2px] hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] active:translate-y-[2px] active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-wait min-h-[60px]">
                                        {capturing ? <span className="flex items-center gap-2">ğŸ“¸ ìƒì„± ì¤‘...</span> : <><IconImage className="w-5 h-5 mr-2" /> ì´ë¯¸ì§€ ê³µìœ </>}
                                    </button>
                                    <button onClick={handleCopyLink} className="flex-1 py-4 bg-white text-black rounded-lg font-black text-sm md:text-lg border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-[-2px] hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] active:translate-y-[2px] active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all flex items-center justify-center gap-2 min-h-[60px]">
                                        <IconLink className="w-5 h-5" /> ë§í¬ ë³µì‚¬
                                    </button>
                                </div>
                                <div className="bg-white p-4 grid grid-cols-2 gap-3">
                                    <button onClick={handleCopyText} className="flex items-center justify-center gap-2 bg-white border-4 border-black text-black font-bold py-3 rounded-lg hover:bg-gray-100 active:bg-gray-200 transition-colors min-h-[50px]"><IconCopy className="w-4 h-4" /> í…ìŠ¤íŠ¸ë§Œ ë³µì‚¬</button>
                                    <button onClick={handleReset} className="flex items-center justify-center gap-2 bg-gray-200 border-4 border-gray-400 text-gray-600 font-bold py-3 rounded-lg hover:bg-gray-300 transition-colors min-h-[50px]"><IconRefresh className="w-4 h-4" /> ë‹¤ì‹œ í•˜ê¸°</button>
                                </div>
                            </div>
                        )}
                    </section>

                    <section className="w-full max-w-[95vw] px-4 pb-20 overflow-hidden">
                        <div className="flex items-center justify-center gap-2 mb-6">
                            <div className="h-px bg-white/30 flex-grow max-w-[100px]"></div>
                            <div className="flex items-center gap-2 text-white">
                                <IconTrophy className="w-5 h-5 text-yellow-300" />
                                <h3 className="font-black text-xl uppercase tracking-wider text-shadow">VIP Lounge</h3>
                            </div>
                            <div className="h-px bg-white/30 flex-grow max-w-[100px]"></div>
                        </div>
                        <div className="relative w-full fade-mask">
                            <div 
                                ref={vipScrollRef} 
                                className="vip-scroll-container scrollbar-hide" 
                                onMouseEnter={() => setIsPaused(true)} 
                                onMouseLeave={() => setIsPaused(false)} 
                                onTouchStart={() => setIsPaused(true)} 
                                onTouchEnd={() => { 
                                    // í„°ì¹˜ë¥¼ ë–¼ë©´ 0.1ì´ˆ ë’¤ ì¦‰ì‹œ ì¬ê°œ
                                    setTimeout(() => setIsPaused(false), 100); 
                                }}
                            >
                                {displayList.map((card, index) => (
                                    <div key={`${card.id}-${index}`} onClick={() => { setViewingCard(card); window.scrollTo({top:0, behavior:'smooth'}); }} className="flex-shrink-0 w-64 bg-[#1a202c] border-4 border-black rounded-lg shadow-lg cursor-pointer hover:scale-105 transition-transform duration-300 relative overflow-hidden group">
                                        <div className="absolute top-0 left-0 w-full h-1 bg-yellow-400"></div>
                                        <div className="p-5 h-full flex flex-col justify-between">
                                            <div>
                                                <div className="flex justify-between items-start mb-3">
                                                    <div className="w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center border border-white"><IconUser className="w-4 h-4 text-black" /></div>
                                                    <span className="text-[10px] text-yellow-400 font-bold tracking-widest">VIP</span>
                                                </div>
                                                <h4 className="text-white font-serif font-bold text-lg leading-tight line-clamp-2 mb-2">{card.title}</h4>
                                                <p className="text-gray-400 text-xs line-clamp-2 italic">"{card.desc}"</p>
                                            </div>
                                            <div className="mt-4 pt-3 border-t border-gray-700 flex justify-between items-center"><span className="text-[10px] text-gray-500 font-mono truncate max-w-[120px]">ORIGIN: {card.originalInput}</span><IconGlobe className="w-3 h-3 text-gray-600 group-hover:text-yellow-400 transition-colors" /></div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                        <p className="text-center text-white/60 text-[10px] md:text-xs font-medium mt-6">* ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê±°ë‚˜ í„°ì¹˜í•˜ë©´ ë©ˆì¶¥ë‹ˆë‹¤.</p>
                    </section>
                    
                    {viewingCard && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in-down" onClick={() => setViewingCard(null)}>
                            <div className="relative w-full max-w-lg max-h-[90vh] overflow-y-auto scrollbar-hide rounded-sm" onClick={e => e.stopPropagation()}>
                                <div className="sticky top-0 right-0 flex justify-end pb-2 z-50"><button onClick={() => setViewingCard(null)} className="text-white bg-gray-800/80 hover:bg-gray-700 rounded-full p-2"><IconX className="w-6 h-6" /></button></div>
                                <div className="bg-[#1a202c] p-1 relative border-b-8 border-yellow-400 shadow-2xl rounded-sm mb-8">
                                    <div className="absolute inset-0 opacity-10" style={{backgroundImage: 'radial-gradient(#ffffff 1px, transparent 1px)', backgroundSize: '20px 20px'}}></div>
                                    <div className="relative z-10 p-6 md:p-8 flex flex-col h-auto min-h-[320px] justify-between">
                                        <div className="flex justify-between items-start mb-6">
                                            <div className="w-12 h-12 bg-yellow-400 border-2 border-white rounded-full flex items-center justify-center shadow-lg"><IconUser className="text-black w-6 h-6" /></div>
                                            <div className="flex flex-col items-end pt-1"><div className="text-yellow-400 text-xl tracking-widest font-bold drop-shadow-sm leading-none">â˜…â˜…â˜…â˜…â˜…</div></div>
                                        </div>
                                        <div className="mb-6 flex-grow"><h2 className="text-2xl md:text-3xl font-serif font-bold text-white leading-tight mb-3 drop-shadow-md break-words">{viewingCard.title}</h2><div className="h-1 w-16 bg-yellow-400 mb-4"></div><p className="text-gray-300 text-[16px] font-medium italic leading-snug pr-2">"{viewingCard.desc}"</p></div>
                                        <div className="border-t border-gray-700 pt-3 mt-4"><div className="flex justify-between items-center mb-1"><p className="text-[10px] font-mono text-gray-500"><span className="text-indigo-400">ORIGIN:</span> {viewingCard.originalInput}</p></div><div className="flex justify-between items-end text-[10px] md:text-xs text-gray-400 font-mono"><div><p className="text-yellow-400 font-bold">SILICON VALLEY HQ</p><p>1 Infinite Loop, Metaverse</p></div></div></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    <footer className="w-full text-center py-6 border-t border-white/10 mt-auto">
                        <p className="text-white/60 text-xs font-bold">Powered by Gemini AI & Bluff Technologyâ„¢</p>
                    </footer>

                    <div className={`fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-black text-white px-6 py-4 rounded-lg shadow-[8px_8px_0px_0px_rgba(255,255,255,0.5)] flex items-center gap-3 transition-all duration-300 z-50 border-2 border-white ${toast.show ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10 pointer-events-none'}`}>
                        <div className="bg-yellow-400 rounded-full p-1 border border-white"><IconSparkles className="w-4 h-4 text-black" /></div>
                        <span className="font-bold text-sm">{toast.message}</span>
                    </div>
                </main>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GrandTitleGenerator />);
    </script>
</body>
</html>
