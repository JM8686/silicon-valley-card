<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨ ë§Œë“¤ê¸° - Grand Title Generator</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="í‰ë²”í•œ ì§ì—…ì„ ì‹¤ë¦¬ì½˜ë°¸ë¦¬ CEOì²˜ëŸ¼ í¬ì¥í•´ì£¼ëŠ” AI ëª…í•¨ ìƒì„±ê¸°ì…ë‹ˆë‹¤.">
    <meta property="og:title" content="ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨ ë§Œë“¤ê¸°">
    <meta property="og:description" content="ë‹¹ì‹ ì˜ í‰ë²”í•œ ì¼ìƒì„ ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ìœ ë‹ˆì½˜ ê¸°ì—… CEOì²˜ëŸ¼ ë§Œë“¤ì–´ë“œë¦½ë‹ˆë‹¤.">
    <meta property="og:image" content="https://via.placeholder.com/1200x630.png?text=Silicon+Valley+Card">
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. React & ReactDOM (Stable UMD Version) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 3. Babel (JSX Transformer) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 4. html2canvas -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <!-- 5. Firebase (Compat Version for Browser Stability) -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>

    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        body { font-family: 'Pretendard', sans-serif; background-color: #111827; color: white; }
        .font-serif { font-family: 'Times New Roman', Times, serif; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Animations */
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-down { animation: fadeInDown 0.6s ease-out; }
        .animate-fade-in-up { animation: fadeInUp 0.5s ease-out; }
        
        /* Scroll Animation */
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        .animate-scroll { animation: scroll 15s linear infinite; }
        
        /* Fade Mask */
        .fade-mask {
            mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;
        
        // --- 0. ICON COMPONENTS (Fixed: Added props spreading) ---
        const IconBriefcase = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>;
        const IconZap = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={`text-yellow-500 ${props.className || ''}`}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>;
        const IconSparkles = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 5H5"/><path d="M19 3v4"/><path d="M15 5h4"/></svg>;
        const IconUser = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>;
        const IconGlobe = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>;
        const IconTrophy = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>;
        const IconX = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>;
        const IconImage = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>;
        const IconLink = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>;
        const IconCopy = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>;
        const IconRefresh = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>;
        const IconWifi = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12.55a11 11 0 0 1 14.08 0"/><path d="M1.42 9a16 16 0 0 1 21.16 0"/><path d="M8.53 16.11a6 6 0 0 1 6.95 0"/><line x1="12" x2="12.01" y1="20" y2="20"/></svg>;
        const IconWifiOff = (props) => <svg {...props} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="2" x2="22" y1="2" y2="22"/><path d="M8.5 16.429a5 5 0 0 1 7 0"/><path d="M5 12.859a10 10 0 0 1 5.17-2.69"/><path d="M19 12.859a10 10 0 0 0-2.007-1.523"/><path d="M2 8.82a15 15 0 0 1 4.177-2.61"/><path d="M22 8.82a15 15 0 0 0-11.288-2.676"/><line x1="12" x2="12.01" y1="20" y2="20"/></svg>;

        // --- 1. CONFIGURATION ---
        const firebaseConfig = {
            apiKey: "AIzaSyAq_82aL0otaPbubYB2Jo69MwVzJJuR4B8",
            authDomain: "silicon-card.firebaseapp.com",
            projectId: "silicon-card",
            storageBucket: "silicon-card.firebasestorage.app",
            messagingSenderId: "942702520870",
            appId: "1:942702520870:web:2abc7d4b35abbd6828d4e7"
        };
        const GEMINI_API_KEY = "AIzaSyCl82BtpKNBWosRC1sG1vZSt6B_wYjvngQ";
        const APP_ID = 'silicon-card';

        // --- 2. FIREBASE INIT (Compat Mode for Browser) ---
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        } else {
            firebase.app(); 
        }
        
        const db = firebase.firestore();
        const auth = firebase.auth();

        // --- 3. MOCK DATA FOR VIP LOUNGE ---
        const MOCK_VIP_CARDS = [
            { id: 'm1', title: 'Chief Home Protector', desc: 'ì£¼ê±° ê³µê°„ì˜ ì—”íŠ¸ë¡œí”¼ë¥¼ ìµœì†Œí™”í•˜ê³  ë°°ë‹¬ ìŒì‹ì˜ ë¬¼ë¥˜ íš¨ìœ¨ì„ ìµœì í™”í•˜ëŠ” í™ˆ ì¸í”„ë¼ ì´ê´„ ì±…ì„ì.', originalInput: 'ë°±ìˆ˜' },
            { id: 'm2', title: 'Convenience Store Master', desc: 'ê¸€ë¡œë²Œ ìœ í†µë§ì˜ ìµœì „ì„ ì—ì„œ ì¬ê³  ìì‚°ì˜ ìœ ë™ì„±ì„ ê´€ë¦¬í•˜ê³  ë°”ì½”ë“œ ìŠ¤ìºë‹ í”„ë¡œì„¸ìŠ¤ë¥¼ ì§€íœ˜í•˜ëŠ” í˜„ì¥ ì†Œì¥.', originalInput: 'í¸ì˜ì  ì•Œë°”' },
            { id: 'm3', title: 'Dopamine Mining Engineer', desc: 'ìˆí¼ í”Œë«í¼ì´ë¼ëŠ” ë””ì§€í„¸ ê´‘ì‚°ì—ì„œ ê³ ìˆœë„ ë„íŒŒë¯¼ì„ ì±„êµ´í•˜ì—¬ ë‡Œë‚´ ë³´ìƒ íšŒë¡œë¥¼ ìê·¹í•˜ëŠ” ì‹ ê²½í™”í•™ ì—”ì§€ë‹ˆì–´.', originalInput: 'ìœ íŠœë¸Œ ì‹œì²­' },
            { id: 'm4', title: 'Oxygen Circulation Specialist', desc: 'ëŒ€ê¸° ì¤‘ ì‚°ì†Œë¥¼ í¬ì§‘í•˜ì—¬ í˜ˆë¥˜ì— ê³µê¸‰í•˜ê³  ì´ì‚°í™”íƒ„ì†Œ ë°°ì¶œì„ ìë™í™”í•˜ëŠ” ìƒëª… ìœ ì§€ ì‹œìŠ¤í…œ ê´€ë¦¬ì.', originalInput: 'ìˆ¨ì‰¬ê¸°' },
            { id: 'm5', title: 'Keyboard Rhythm Conductor', desc: 'ê¸°ê³„ì‹ ìŠ¤ìœ„ì¹˜ì˜ íƒ€ê±´ìŒì„ ì¡°ìœ¨í•˜ì—¬ ë””ì§€í„¸ êµí–¥ê³¡ì„ ì‘ê³¡í•˜ê³  íŒ€ì›ë“¤ì˜ ë©˜íƒˆì„ ì¼€ì–´í•˜ëŠ” E-ìŠ¤í¬ì¸  ë§ˆì—ìŠ¤íŠ¸ë¡œ.', originalInput: 'ê²Œì„' }
        ];

        // --- 4. MAIN COMPONENT ---
        const GrandTitleGenerator = () => {
            const [inputText, setInputText] = useState('');
            const [loading, setLoading] = useState(false);
            const [capturing, setCapturing] = useState(false);
            const [result, setResult] = useState(null);
            const [toast, setToast] = useState({ show: false, message: '' });
            const [user, setUser] = useState(null);
            // Initialize with MOCK data to ensure it's never empty
            const [recentCards, setRecentCards] = useState(MOCK_VIP_CARDS);
            const [viewingCard, setViewingCard] = useState(null);
            const [isPaused, setIsPaused] = useState(false);
            
            const cardRef = useRef(null);
            const topRef = useRef(null);
            const inputRef = useRef(null);
            const vipScrollRef = useRef(null);
            const animationRef = useRef(null);

            // --- Auth & Initial Load ---
            useEffect(() => {
                auth.signInAnonymously().catch(e => console.error("Auth Error:", e));
                const unsubscribe = auth.onAuthStateChanged((u) => {
                    setUser(u);
                });
                return () => unsubscribe();
            }, []);

            // --- Firestore Realtime Listener ---
            useEffect(() => {
                try {
                    // Start listening regardless of auth state (public read)
                    const queryRef = db.collection('artifacts').doc(APP_ID).collection('public').doc('data').collection('cards')
                        .orderBy('createdAt', 'desc')
                        .limit(20);
                        
                    const unsubscribe = queryRef.onSnapshot((snapshot) => {
                        if (!snapshot.empty) {
                             const cards = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                             // Merge with mock data if real data is small, or just replace
                             setRecentCards(cards.length < 5 ? [...cards, ...MOCK_VIP_CARDS] : cards);
                        }
                    }, (error) => {
                         console.error("Firestore Read Error:", error);
                    });
                    return () => unsubscribe();
                } catch (e) {
                    console.error("Firestore Error:", e);
                }
            }, [user]);

            // --- Display List for Infinite Scroll ---
            const displayList = useMemo(() => {
                // Ensure list is long enough for smooth scrolling
                let cards = [...recentCards];
                while (cards.length < 10) {
                    cards = [...cards, ...recentCards];
                }
                return cards;
            }, [recentCards]);

            // --- Auto Scroll Animation (Hybrid) ---
            useEffect(() => {
                const scrollContainer = vipScrollRef.current;
                if (!scrollContainer || displayList.length === 0) return;

                const animate = () => {
                    if (!isPaused && scrollContainer) {
                        const speed = 1.0; 
                        // Infinite Scroll Logic
                        if (scrollContainer.scrollLeft >= (scrollContainer.scrollWidth / 2)) {
                           scrollContainer.scrollLeft = 0; 
                        } else {
                           scrollContainer.scrollLeft += speed;
                        }
                    }
                    animationRef.current = requestAnimationFrame(animate);
                };

                if (animationRef.current) cancelAnimationFrame(animationRef.current);
                animationRef.current = requestAnimationFrame(animate);

                return () => {
                    if (animationRef.current) cancelAnimationFrame(animationRef.current);
                };
            }, [isPaused, displayList]);

            // --- Save Data ---
            const saveCardToFirestore = async (cardData) => {
                if (!user) return;
                try {
                    await db.collection('artifacts').doc(APP_ID).collection('public').doc('data').collection('cards').add({
                        ...cardData,
                        userId: user.uid,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                } catch (e) {
                    console.error("Save Error:", e);
                }
            };

            // --- Gemini API ---
            const callGemini = async (prompt) => {
                try {
                    const response = await fetch(
                        `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${GEMINI_API_KEY}`,
                        {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({
                                contents: [{ parts: [{ text: prompt }] }],
                                generationConfig: { responseMimeType: "application/json" }
                            }),
                        }
                    );
                    if (!response.ok) throw new Error('API Fail');
                    const data = await response.json();
                    return JSON.parse(data.candidates[0].content.parts[0].text);
                } catch (e) { return null; }
            };

            const analyzeIdentity = async () => {
                if (!inputText.trim()) return;
                setLoading(true);
                setResult(null);

                const systemPrompt = `
                  You are a satirical "Silicon Valley Business Card Generator" AI. 
                  GOAL: Turn mundane inputs into SHORT, WITTY titles (English) and detailed descriptions (Korean).
                  TITLE: Max 3-5 words. Use "Protector", "Guardian", "Ninja", "Wizard".
                  DESC: 2-3 sentences. Start with "ì €ëŠ”", end with "í•˜ê³  ìˆìŠµë‹ˆë‹¤".
                  OUTPUT JSON: { "title": "...", "desc": "..." }
                  Input: "${inputText}"
                `;

                let aiResult = await callGemini(systemPrompt);
                
                if (!aiResult) {
                    aiResult = { title: "Chief Error Handler", desc: "ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ì™€ ì‹¸ìš°ë©° ì§€ì† ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤." };
                }

                const finalResult = { ...aiResult, originalInput: inputText };
                setResult(finalResult);
                saveCardToFirestore(finalResult);
                setLoading(false);
            };

            // --- Helper Functions ---
            const showToast = (msg) => {
                setToast({ show: true, message: msg });
                setTimeout(() => setToast({ show: false, message: '' }), 3000);
            };

            const fallbackCopy = (text) => {
                try {
                    const ta = document.createElement("textarea");
                    ta.value = text;
                    ta.style.position = "fixed"; ta.style.left = "-9999px"; ta.style.top = "0";
                    document.body.appendChild(ta); ta.focus(); ta.select();
                    document.execCommand('copy'); document.body.removeChild(ta);
                    showToast("ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“");
                } catch (e) { showToast("ë³µì‚¬ ì‹¤íŒ¨"); }
            };

            const handleCopyText = () => {
                if (!result) return;
                const text = `[${result.title}]\n\n"${result.desc}"\n\nORIGIN: ${result.originalInput}\n\n#ì‹¤ë¦¬ì½˜ë°¸ë¦¬ëª…í•¨`;
                if (navigator.clipboard) navigator.clipboard.writeText(text).then(() => showToast("í…ìŠ¤íŠ¸ ë³µì‚¬ ì™„ë£Œ! ğŸ“")).catch(() => fallbackCopy(text));
                else fallbackCopy(text);
            };

            const handleCopyLink = () => {
                const url = window.location.href;
                if (navigator.clipboard) navigator.clipboard.writeText(url).then(() => showToast("ë§í¬ ë³µì‚¬ ì™„ë£Œ! ğŸ”—")).catch(() => fallbackCopy(url));
                else fallbackCopy(url);
            };

            const handleShareImage = async () => {
                if (!result || !cardRef.current) return;
                setCapturing(true);
                await new Promise(r => setTimeout(r, 200));

                try {
                    const canvas = await window.html2canvas(cardRef.current, {
                        backgroundColor: '#1a202c', scale: 2, useCORS: true,
                        onclone: (doc) => {
                            const desc = doc.getElementById('card-description');
                            if (desc) { 
                                desc.style.wordBreak = 'break-word'; 
                                desc.style.whiteSpace = 'pre-wrap';
                                desc.style.paddingRight = '10px';
                            }
                            // No badge text adjustment needed as it's removed in HTML but check if exists
                        }
                    });

                    canvas.toBlob(async (blob) => {
                        if (!blob) { setCapturing(false); return; }
                        const file = new File([blob], 'card.png', { type: 'image/png' });
                        if (navigator.share && navigator.canShare && navigator.canShare({ files: [file] })) {
                            try { await navigator.share({ files: [file], title: 'ëª…í•¨', text: 'ë‚´ ëª…í•¨ì…ë‹ˆë‹¤.' }); }
                            catch (e) { 
                                if (e.name !== 'AbortError') {
                                    const link = document.createElement('a');
                                    link.download = `card.png`; link.href = canvas.toDataURL(); link.click();
                                    showToast("ì´ë¯¸ì§€ ì €ì¥ ì™„ë£Œ! ğŸ’¾");
                                }
                            }
                        } else {
                            const link = document.createElement('a');
                            link.download = `card.png`; link.href = canvas.toDataURL(); link.click();
                            showToast("ì´ë¯¸ì§€ ì €ì¥ ì™„ë£Œ! ğŸ’¾");
                        }
                        setCapturing(false);
                    });
                } catch (e) {
                    setCapturing(false);
                    showToast("ì´ë¯¸ì§€ ìƒì„± ì˜¤ë¥˜");
                }
            };

            const handleReset = () => {
                setResult(null); setInputText('');
                if (topRef.current) topRef.current.scrollIntoView({ behavior: 'smooth' });
                setTimeout(() => { if (inputRef.current) inputRef.current.focus(); }, 100);
            };

            return (
                <main ref={topRef} className="min-h-[100dvh] bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex flex-col items-center justify-start p-4 font-sans selection:bg-yellow-300 selection:text-black overflow-x-hidden">
                    {/* Header */}
                    <header className="text-center mt-8 mb-8 w-full max-w-2xl animate-fade-in-down">
                        <div className="inline-block bg-white border-4 border-black px-6 py-2 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] mb-4 transform -rotate-2">
                            <div className="flex items-center gap-2">
                                <IconBriefcase className="w-6 h-6 text-indigo-600" />
                                <h1 className="text-2xl md:text-3xl font-black text-black tracking-tighter uppercase">ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨ ë§Œë“¤ê¸°</h1>
                            </div>
                        </div>
                        <div className="bg-yellow-300 border-4 border-black p-4 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] rounded-lg">
                            <p className="text-black font-bold text-sm md:text-base leading-relaxed break-keep">ì§ì—…, ì·¨ë¯¸, í™œë™ ë“± ë‹¹ì‹ ì˜ ëª¨ë“  ëª¨ìŠµì„ <br className="hidden md:block"/><span className="text-indigo-600 font-black">ì‹¤ë¦¬ì½˜ë°¸ë¦¬ì˜ ì„±ê³µí•œ ë¶€ì</span> ëª…í•¨ìœ¼ë¡œ ë°”ê¿” ë“œë¦½ë‹ˆë‹¤. âœ¨</p>
                        </div>
                    </header>

                    {/* Input / Result Section */}
                    <section className="w-full max-w-lg bg-white border-4 border-black shadow-[12px_12px_0px_0px_rgba(0,0,0,0.2)] rounded-xl overflow-hidden transform transition-all duration-300 mb-12 relative z-10">
                        {!result && !loading && (
                            <div className="p-8 space-y-6">
                                <div className="space-y-3">
                                    <label htmlFor="job-input" className="flex items-center gap-2 text-black font-extrabold text-lg uppercase tracking-tight">
                                        <IconZap className="w-5 h-5 text-yellow-500 fill-current" /> Current Status (ì…ë ¥)
                                    </label>
                                    <input ref={inputRef} type="text" value={inputText} onChange={(e) => setInputText(e.target.value)} onKeyDown={(e) => e.key === 'Enter' && analyzeIdentity()} placeholder="ì˜ˆ: í¸ì˜ì  ì•Œë°”, ëˆ„ì›Œìˆê¸°, í—¬ìŠ¤ì¥..." className="w-full bg-indigo-50 text-black border-4 border-black focus:border-indigo-500 rounded-lg px-4 py-5 outline-none transition-all placeholder-gray-500 font-bold shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)] focus:shadow-[4px_4px_0px_0px_rgba(79,70,229,1)] text-base md:text-lg" />
                                </div>
                                <button onClick={analyzeIdentity} disabled={!inputText.trim()} className={`w-full py-4 rounded-lg font-black text-xl border-4 border-black shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] transform transition-all flex items-center justify-center gap-2 active:translate-y-1 active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] min-h-[60px] ${inputText.trim() ? 'bg-gradient-to-r from-yellow-400 to-orange-400 text-black hover:brightness-110 cursor-pointer' : 'bg-gray-200 text-gray-500 cursor-not-allowed border-gray-400 shadow-none'}`}>
                                    <IconSparkles className="w-6 h-6" /> ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ëª…í•¨ ë§Œë“¤ê¸°
                                </button>
                            </div>
                        )}

                        {loading && (
                            <div className="p-12 flex flex-col items-center justify-center space-y-6 text-center bg-indigo-50 min-h-[300px]">
                                <div className="w-20 h-20 border-8 border-black border-t-yellow-400 rounded-full animate-spin"></div>
                                <div><p className="text-xl font-black text-black animate-pulse">ì‹¤ë¦¬ì½˜ë°¸ë¦¬ ì—°ë´‰ í˜‘ìƒ ì¤‘... ğŸ’°</p><p className="text-sm font-bold text-indigo-600 mt-2">Calculating Valuation...</p></div>
                            </div>
                        )}

                        {result && !loading && (
                            <div className="animate-fade-in-up">
                                <article ref={cardRef} id="card-container" className="bg-[#1a202c] p-1 relative border-b-8 border-yellow-400">
                                    <div className="absolute inset-0 opacity-10" style={{backgroundImage: 'radial-gradient(#ffffff 1px, transparent 1px)', backgroundSize: '20px 20px'}}></div>
                                    <div className="relative z-10 p-6 md:p-8 flex flex-col h-auto min-h-[320px] justify-between">
                                        <div className="flex justify-between items-start mb-6">
                                            <div className="w-12 h-12 bg-yellow-400 border-2 border-white rounded-full flex items-center justify-center shadow-lg"><IconUser className="text-black w-6 h-6" /></div>
                                            <div className="flex flex-col items-end pt-1"><div className="text-yellow-400 text-xl tracking-widest font-bold drop-shadow-sm leading-none">â˜…â˜…â˜…â˜…â˜…</div></div>
                                        </div>
                                        <div className="mb-6 flex-grow">
                                            <h2 className="text-2xl md:text-3xl font-serif font-bold text-white leading-tight mb-3 drop-shadow-md break-words">{result.title}</h2>
                                            <div className="h-1 w-16 bg-yellow-400 mb-4"></div>
                                            <p id="card-description" className="text-gray-300 text-sm md:text-base font-medium italic leading-relaxed pr-2" style={{ wordBreak: 'keep-all', overflowWrap: 'break-word', whiteSpace: 'pre-wrap' }}>"{result.desc}"</p>
                                        </div>
                                        <div className="border-t border-gray-700 pt-3 mt-4">
                                            <div className="flex justify-between items-center mb-1"><p className="text-[10px] font-mono text-gray-500"><span className="text-indigo-400">ORIGIN:</span> {result.originalInput}</p></div>
                                            <div className="flex justify-between items-end text-[10px] md:text-xs text-gray-400 font-mono"><div><p className="text-yellow-400 font-bold">SILICON VALLEY HQ</p><p>1 Infinite Loop, Metaverse</p></div></div>
                                        </div>
                                    </div>
                                </article>

                                <div className="bg-yellow-50 p-4 border-b-4 border-black grid grid-cols-2 gap-3">
                                    <button onClick={handleShareImage} disabled={capturing} className="flex-1 py-4 bg-indigo-600 text-white rounded-lg font-black text-sm md:text-lg border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-[-2px] hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] active:translate-y-[2px] active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-wait min-h-[60px]" aria-label="ì´ë¯¸ì§€ ê³µìœ ">
                                        {capturing ? <span className="flex items-center gap-2">ğŸ“¸ ìƒì„± ì¤‘...</span> : <><IconImage className="w-5 h-5" /> ì´ë¯¸ì§€ ê³µìœ </>}
                                    </button>
                                    <button onClick={handleCopyLink} className="flex-1 py-4 bg-white text-black rounded-lg font-black text-sm md:text-lg border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-[-2px] hover:shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] active:translate-y-[2px] active:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all flex items-center justify-center gap-2 min-h-[60px]" aria-label="ë§í¬ ë³µì‚¬">
                                        <IconLink className="w-5 h-5" /> ë§í¬ ë³µì‚¬
                                    </button>
                                </div>
                                <div className="bg-white p-4 grid grid-cols-2 gap-3">
                                    <button onClick={handleCopyText} className="flex items-center justify-center gap-2 bg-white border-4 border-black text-black font-bold py-3 rounded-lg hover:bg-gray-100 active:bg-gray-200 transition-colors min-h-[50px]"><IconCopy className="w-4 h-4" /> í…ìŠ¤íŠ¸ë§Œ ë³µì‚¬</button>
                                    <button onClick={handleReset} className="flex items-center justify-center gap-2 bg-gray-200 border-4 border-gray-400 text-gray-600 font-bold py-3 rounded-lg hover:bg-gray-300 transition-colors min-h-[50px]"><IconRefresh className="w-4 h-4" /> ë‹¤ì‹œ í•˜ê¸°</button>
                                </div>
                            </div>
                        )}
                    </section>

                    {/* VIP Lounge */}
                    <section className="w-full max-w-[95vw] px-4 pb-20 overflow-hidden">
                        <div className="flex items-center justify-center gap-2 mb-6">
                            <div className="h-px bg-white/30 flex-grow max-w-[100px]"></div>
                            <div className="flex items-center gap-2 text-white"><IconTrophy className="w-5 h-5 text-yellow-300" /><h3 className="font-black text-xl uppercase tracking-wider text-shadow">VIP Lounge</h3></div>
                            <div className="h-px bg-white/30 flex-grow max-w-[100px]"></div>
                        </div>
                        <div className="relative w-full fade-mask">
                            <div ref={vipScrollRef} className="flex gap-4 overflow-x-auto scrollbar-hide" style={{ width: '100%', cursor: 'grab', WebkitOverflowScrolling: 'touch', touchAction: 'pan-x' }} onMouseEnter={() => setIsPaused(true)} onMouseLeave={() => setIsPaused(false)} onTouchStart={() => setIsPaused(true)} onTouchEnd={() => setIsPaused(false)} onTouchCancel={() => setIsPaused(false)}>
                                {displayList.map((card, index) => (
                                    <div key={`${card.id}-${index}`} onClick={() => { setViewingCard(card); if(topRef.current) topRef.current.scrollIntoView({behavior:'smooth'}); }} className="flex-shrink-0 w-64 bg-[#1a202c] border-4 border-black rounded-lg shadow-lg cursor-pointer hover:scale-105 transition-transform duration-300 relative overflow-hidden group">
                                        <div className="absolute top-0 left-0 w-full h-1 bg-yellow-400"></div>
                                        <div className="p-5 h-full flex flex-col justify-between">
                                            <div>
                                                <div className="flex justify-between items-start mb-3">
                                                    <div className="w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center border border-white"><IconUser className="w-4 h-4 text-black" /></div>
                                                    <span className="text-[10px] text-yellow-400 font-bold tracking-widest">VIP</span>
                                                </div>
                                                <h4 className="text-white font-serif font-bold text-lg leading-tight line-clamp-2 mb-2">{card.title}</h4>
                                                <p className="text-gray-400 text-xs line-clamp-2 italic">"{card.desc}"</p>
                                            </div>
                                            <div className="mt-4 pt-3 border-t border-gray-700 flex justify-between items-center"><span className="text-[10px] text-gray-500 font-mono truncate max-w-[120px]">ORIGIN: {card.originalInput}</span><IconGlobe className="w-3 h-3 text-gray-600 group-hover:text-yellow-400 transition-colors" /></div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                        <p className="text-center text-white/60 text-xs font-medium mt-6">* ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê±°ë‚˜ í„°ì¹˜í•˜ë©´ ë©ˆì¶¥ë‹ˆë‹¤.</p>
                    </section>
                    
                    {/* Modal */}
                    {viewingCard && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in-down" onClick={() => setViewingCard(null)}>
                            <div className="relative w-full max-w-lg max-h-[90vh] overflow-y-auto scrollbar-hide rounded-sm" onClick={e => e.stopPropagation()}>
                                <div className="sticky top-0 right-0 flex justify-end pb-2 z-50"><button onClick={() => setViewingCard(null)} className="text-white bg-gray-800/80 hover:bg-gray-700 rounded-full p-2"><IconX className="w-6 h-6" /></button></div>
                                <div className="bg-[#1a202c] p-1 relative border-b-8 border-yellow-400 shadow-2xl rounded-sm mb-8">
                                    <div className="absolute inset-0 opacity-10" style={{backgroundImage: 'radial-gradient(#ffffff 1px, transparent 1px)', backgroundSize: '20px 20px'}}></div>
                                    <div className="relative z-10 p-6 md:p-8 flex flex-col h-auto min-h-[320px] justify-between">
                                        <div className="flex justify-between items-start mb-6">
                                            <div className="w-12 h-12 bg-yellow-400 border-2 border-white rounded-full flex items-center justify-center shadow-lg"><IconUser className="text-black w-6 h-6" /></div>
                                            <div className="flex flex-col items-end pt-1"><div className="text-yellow-400 text-xl tracking-widest font-bold drop-shadow-sm leading-none">â˜…â˜…â˜…â˜…â˜…</div></div>
                                        </div>
                                        <div className="mb-6 flex-grow"><h2 className="text-2xl md:text-3xl font-serif font-bold text-white leading-tight mb-3 drop-shadow-md break-words">{viewingCard.title}</h2><div className="h-1 w-16 bg-yellow-400 mb-4"></div><p className="text-gray-300 text-sm md:text-base font-medium italic leading-relaxed pr-2">"{viewingCard.desc}"</p></div>
                                        <div className="border-t border-gray-700 pt-3 mt-4"><div className="flex justify-between items-center mb-1"><p className="text-[10px] font-mono text-gray-500"><span className="text-indigo-400">ORIGIN:</span> {viewingCard.originalInput}</p></div><div className="flex justify-between items-end text-[10px] md:text-xs text-gray-400 font-mono"><div><p className="text-yellow-400 font-bold">SILICON VALLEY HQ</p><p>1 Infinite Loop, Metaverse</p></div></div></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Footer */}
                    <footer className="w-full text-center py-6 border-t border-white/10 mt-auto">
                        <p className="text-white/60 text-xs font-bold">Powered by Gemini AI & Bluff Technologyâ„¢</p>
                    </footer>

                    {/* Toast */}
                    <div className={`fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-black text-white px-6 py-4 rounded-lg shadow-[8px_8px_0px_0px_rgba(255,255,255,0.5)] flex items-center gap-3 transition-all duration-300 z-50 border-2 border-white ${toast.show ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10 pointer-events-none'}`}>
                        <div className="bg-yellow-400 rounded-full p-1 border border-white"><IconSparkles className="w-4 h-4 text-black" /></div>
                        <span className="font-bold text-sm">{toast.message}</span>
                    </div>
                </main>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<GrandTitleGenerator />);
    </script>
</body>
</html>
